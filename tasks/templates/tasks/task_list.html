<!-- templates/tasks/task_list.html -->
{% extends "_base.html" %}
{% block title %}Tasks{% endblock title %}
{% block content %}
    {% for task in task_list %}
        <div>
            {% if task.is_completed %}
                <h2><strike><a href="{% url 'task_detail' task.pk %}">{{ task.title }}</a></strike></h2>
                <p>Completed at: {{ task.completed_at }}</p>
            {% else %}
                <h2><a href="{% url 'task_detail' task.pk %}">{{ task.title }}</a></h2>
                <form method="post" action="{% url 'task_list'%}">
                    {% csrf_token %}
                    <input type="hidden" name="task_id" value="{{ task.id }}">
                    <input type="submit" value="Mark as completed">
                </form>
            {% endif %}
        </div>
    {% endfor %}
{% endblock content %}
